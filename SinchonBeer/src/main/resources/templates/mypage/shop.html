<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>마이페이지 주문 내역</title>

<link rel="stylesheet" th:href="@{/css/mypage/shop.css}">
<th:block th:replace="frame/metaheader"></th:block>

</head>
<body>
	<th:block th:replace="frame/header"></th:block>
	<th:block th:replace="frame/nav"></th:block>

	<div class="mt-5 text-center pb-5">
		<p class="text-center text-48 text-sinchon mb-0">MY PAGE</p>
		<p class="text-center text-14">안녕하세요 신촌맥주입니다.</p>
	</div>

	<div id="scrollableNavBar">
		<div class="row justify-content-between mb-5 pb-5">
			<div class="col text-center text-14">
				<a th:href="@{shop}" class="link-unstyle">
					<span class="pb-1 border-bottom border-sinchon text-sinchon">주문 내역</span>
				</a>
			</div>
			<div class="col text-center text-14">
				<a th:href="@{tour}" class="link-unstyle">예약 내역</a>
			</div>
			<div class="col text-center text-14">
				<a th:href="@{edit-info}" class="link-unstyle">정보 수정</a>
			</div>
			<div class="col text-center text-14">
				<a th:href="@{delete-id}" class="link-unstyle">회원 탈퇴</a>
			</div>
		</div>
	</div>

	<div class="container">
		<p class="text-center text-32 mb-5">상품 주문 내역</p>
		<div class="row">
			<div class="col-lg-2" id="sideBar">
				<ul class="text-14 list-unstyled" id="sideBar">
					<li class="mb-4"><a th:href="@{shop}" class="link-unstyle">
						<span class="pb-1 border-bottom border-sinchon text-sinchon">주문 내역</span></a>
					</li>
					<li class="mb-4"><a th:href="@{tour}" class="link-unstyle">예약 내역</a></li>
					<li class="mb-4"><a th:href="@{edit-info}" class="link-unstyle">정보 수정</a></li>
					<li class="mb-4"><a th:href="@{delete-id}" class="link-unstyle">회원 탈퇴</a></li>
				</ul>
			</div>

			<div class="col-lg-8 pb-5">
				<div class="profile border border-sinchon">
					<div class="row p-5 justify-content-center">
						<div class="col-7">
							<img th:src="@{/images/member/complete.png}" style="width: 350px"/>
						</div>
						<div class="col-5 py-5 pl-4">
							<div class="text-22 font-weight-bold mb-2 profileContent">
								<p class="text-sinchon font-weight-bold">
									<span th:text="${session.loginInfo.name + '님 안녕하세요.'}"></span>
								</p>
							</div>
						</div>
					</div>
				</div>

				<div class="profile mt-5 pl-3 pr-3">
					<div class="row justify-content-center">
						<th:block th:if="${orderList == null}">
							<div class="text-center text-15 text-light-gray my-5 py-5">주문 내역이 없습니다.</div>
						</th:block>
						<th:block th:unless="${orderList == null}">
							<table class="text-15 table">
								<th:block th:each="orderList : ${orderList}">
									<thead class="thead-light">
										<th width="15%">
											<div th:text="${orderList.pdate}"/></th>
										<th width="40%"/>
										<th width="25%" class="pr-0"><div class="float-right">주문번호</div></th>
										<th width="20%" class="pl-2">
											<div th:text="|${#strings.replace(orderList.pdate,'-','')}${orderList.oidx}${orderList.pidx}|"/>
										</th>
									</thead>
									<tbody>
										<tr class="text-14">
											<td><a href="#" >
													<img th:src="@{|/images/shop/${orderList.gphoto}.png|}"
														style="width: 75px; height: 75px; object-fit: cover;"></a></td>
											<td class="pt-4"><div th:text="${orderList.gtitle}"/>
														     <div th:text="${orderList.gname}"/></td>
											<td class="pt-3">
												<div th:text="|구매 수량&nbsp ${orderList.count}|"/>
												<div th:text="|결제 금액&nbsp ${orderList.pprice}|"/>
												<div th:text="|결제 상태&nbsp ${orderList.pstatus}|"/>
											</td>
											<td class="pt-3">
												<button class="btn btn-sinchon mb-2" th:href="@{review}"
													style="width: 100px; height: 30px; line-height: 100%;">후기</button>
												<button class="btn btn-sinchon"
													style="width: 100px; height: 30px; line-height: 100%;">결제취소</button>
											</td>
										</tr>
									</tbody>
								</th:block>
							</table>
							<!-- 페이징 처리 추가 -->
						</th:block>
					</div>
				</div>
			</div>
		</div>
	</div>

	<th:block th:replace="frame/footer"></th:block>
</body>
</html>